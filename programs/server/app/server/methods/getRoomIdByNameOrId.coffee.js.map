{"version":3,"sources":["meteor://ðŸ’»app/server/methods/getRoomIdByNameOrId.coffee"],"names":[],"mappings":";;;;;;;;;AAAA,MAAM,CAAC,OAAP,CACC;AAAA,uBAAqB,SAAC,GAAD;AACpB;AAAA,QAAG,OAAU,CAAC,MAAP,EAAP;AACC,YAAU,UAAM,CAAC,KAAP,CAAa,oBAAb,EAAmC,cAAnC,EAAmD;AAAA,QAAE,QAAQ,qBAAV;OAAnD,CAAV,CADD;KAAA;AAAA,IAGA,OAAO,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,WAAxB,CAAoC,GAApC,KAA4C,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,aAAxB,CAAsC,GAAtC,CAHnD;AAKA,QAAO,YAAP;AACC,YAAU,UAAM,CAAC,KAAP,CAAa,mBAAb,EAAkC,aAAlC,EAAiD;AAAA,QAAE,QAAQ,qBAAV;OAAjD,CAAV,CADD;KALA;AAQA,QAAG,IAAI,CAAC,SAAS,CAAC,OAAf,oCAAoC,CAAE,iBAAtC,MAAqD,EAAxD;AACC,aAAO,IAAI,CAAC,GAAZ,CADD;KARA;AAWA,QAAG,IAAI,CAAC,CAAL,KAAY,GAAZ,IAAmB,UAAU,CAAC,KAAK,CAAC,aAAjB,CAA+B,MAAM,CAAC,MAAP,EAA/B,EAAgD,aAAhD,MAAoE,IAA1F;AACC,YAAU,UAAM,CAAC,KAAP,CAAa,mBAAb,EAAkC,aAAlC,EAAiD;AAAA,QAAE,QAAQ,qBAAV;OAAjD,CAAV,CADD;KAXA;AAcA,WAAO,IAAI,CAAC,GAAZ,CAfoB;EAAA,CAArB;CADD","file":"/server/methods/getRoomIdByNameOrId.coffee.js","sourcesContent":["Meteor.methods\n\tgetRoomIdByNameOrId: (rid) ->\n\t\tif not Meteor.userId()\n\t\t\tthrow new Meteor.Error 'error-invalid-user', 'Invalid user', { method: 'getRoomIdByNameOrId' }\n\n\t\troom = RocketChat.models.Rooms.findOneById(rid) or RocketChat.models.Rooms.findOneByName(rid)\n\n\t\tif not room?\n\t\t\tthrow new Meteor.Error 'error-not-allowed', 'Not allowed', { method: 'getRoomIdByNameOrId' }\n\n\t\tif room.usernames.indexOf(Meteor.user()?.username) isnt -1\n\t\t\treturn room._id\n\n\t\tif room.t isnt 'c' or RocketChat.authz.hasPermission(Meteor.userId(), 'view-c-room') isnt true\n\t\t\tthrow new Meteor.Error 'error-not-allowed', 'Not allowed', { method: 'getRoomIdByNameOrId' }\n\n\t\treturn room._id\n"]}