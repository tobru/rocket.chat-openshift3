{"version":3,"sources":["meteor://ðŸ’»app/server/methods/saveUserPreferences.coffee"],"names":[],"mappings":";;;;;;;;;AAAA,MAAM,CAAC,OAAP,CACC;AAAA,uBAAqB,SAAC,QAAD;AACpB;AAAA,QAAG,MAAM,CAAC,MAAP,EAAH;AACC,oBAAc,EAAd;AAEA,UAAG,yBAAH;AACC,kBAAU,CAAC,MAAM,CAAC,KAAK,CAAC,WAAxB,CAAoC,MAAM,CAAC,MAAP,EAApC,EAAqD,QAAQ,CAAC,QAA9D,EADD;OAFA;AAKA,UAAG,oCAAH;AACC,mBAAW,CAAC,mBAAZ,GAAqC,QAAQ,CAAC,mBAAT,KAAgC,GAAnC,GAA4C,IAA5C,GAAsD,KAAxF,CADD;OALA;AAQA,UAAG,uCAAH;AACC,mBAAW,CAAC,sBAAZ,GAAwC,QAAQ,CAAC,sBAAT,KAAmC,GAAtC,GAA+C,IAA/C,GAAyD,KAA9F,CADD;OARA;AAWA,UAAG,0BAAH;AACC,mBAAW,CAAC,SAAZ,GAA2B,QAAQ,CAAC,SAAT,KAAsB,GAAzB,GAAkC,IAAlC,GAA4C,KAApE,CADD;OAXA;AAcA,UAAG,kCAAH;AACC,mBAAW,CAAC,iBAAZ,GAAmC,QAAQ,CAAC,iBAAT,KAA8B,GAAjC,GAA0C,IAA1C,GAAoD,KAApF,CADD;OAdA;AAiBA,UAAG,oCAAH;AACC,mBAAW,CAAC,mBAAZ,GAAqC,QAAQ,CAAC,mBAAT,KAAgC,GAAnC,GAA4C,IAA5C,GAAsD,KAAxF,CADD;OAjBA;AAoBA,UAAG,uCAAH;AACC,mBAAW,CAAC,sBAAZ,GAAwC,QAAQ,CAAC,sBAAT,KAAmC,GAAtC,GAA+C,IAA/C,GAAyD,KAA9F,CADD;OApBA;AAuBA,UAAG,gCAAH;AACC,mBAAW,CAAC,eAAZ,GAAiC,QAAQ,CAAC,eAAT,KAA4B,GAA/B,GAAwC,IAAxC,GAAkD,KAAhF,CADD;OAvBA;AA0BA,UAAG,8BAAH;AACC,mBAAW,CAAC,aAAZ,GAA+B,QAAQ,CAAC,aAAT,KAA0B,GAA7B,GAAsC,IAAtC,GAAgD,KAA5E,CADD;OA1BA;AA6BA,UAAG,sCAAH;AACC,mBAAW,CAAC,qBAAZ,GAAoC,QAAQ,CAAC,qBAA7C,CADD;OA7BA;AAgCA,UAAG,QAAQ,CAAC,aAAT,KAA4B,IAA/B;AACC,mBAAW,CAAC,aAAZ,GAA4B,QAAQ,CAAC,aAAT,KAA0B,GAAtD,CADD;OAAA;AAGC,0BAAkB,CAAC,aAAnB,CAHD;OAhCA;AAAA,MAqCA,WAAW,CAAC,2BAAZ,GAA0C,QAAQ,CAAC,2BAAT,GAAuC,CArCjF;AAAA,MAsCA,WAAW,CAAC,QAAZ,GAAuB,QAAQ,CAAC,QAAT,IAAqB,CAtC5C;AAAA,MAuCA,WAAW,CAAC,aAAZ,GAA4B,QAAQ,CAAC,aAAT,KAA0B,GAvCtD;AAAA,MAwCA,WAAW,CAAC,WAAZ,GAA0B,QAAQ,CAAC,WAAT,KAAwB,GAxClD;AAAA,MAyCA,WAAW,CAAC,WAAZ,GAA0B,QAAQ,CAAC,WAAT,KAAwB,GAzClD;AAAA,MA0CA,WAAW,CAAC,UAAZ,GAAyB,QAAQ,CAAC,UA1ClC;AAAA,MA4CA,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,cAAxB,CAAuC,MAAM,CAAC,MAAP,EAAvC,EAAwD,WAAxD,CA5CA;AA8CA,aAAO,IAAP,CA/CD;KADoB;EAAA,CAArB;CADD","file":"/server/methods/saveUserPreferences.coffee.js","sourcesContent":["Meteor.methods\n\tsaveUserPreferences: (settings) ->\n\t\tif Meteor.userId()\n\t\t\tpreferences = {}\n\n\t\t\tif settings.language?\n\t\t\t\tRocketChat.models.Users.setLanguage Meteor.userId(), settings.language\n\n\t\t\tif settings.newRoomNotification?\n\t\t\t\tpreferences.newRoomNotification = if settings.newRoomNotification is \"1\" then true else false\n\n\t\t\tif settings.newMessageNotification?\n\t\t\t\tpreferences.newMessageNotification = if settings.newMessageNotification is \"1\" then true else false\n\n\t\t\tif settings.useEmojis?\n\t\t\t\tpreferences.useEmojis = if settings.useEmojis is \"1\" then true else false\n\n\t\t\tif settings.convertAsciiEmoji?\n\t\t\t\tpreferences.convertAsciiEmoji = if settings.convertAsciiEmoji is \"1\" then true else false\n\n\t\t\tif settings.saveMobileBandwidth?\n\t\t\t\tpreferences.saveMobileBandwidth = if settings.saveMobileBandwidth is \"1\" then true else false\n\n\t\t\tif settings.collapseMediaByDefault?\n\t\t\t\tpreferences.collapseMediaByDefault = if settings.collapseMediaByDefault is \"1\" then true else false\n\n\t\t\tif settings.unreadRoomsMode?\n\t\t\t\tpreferences.unreadRoomsMode = if settings.unreadRoomsMode is \"1\" then true else false\n\n\t\t\tif settings.autoImageLoad?\n\t\t\t\tpreferences.autoImageLoad = if settings.autoImageLoad is \"1\" then true else false\n\n\t\t\tif settings.emailNotificationMode?\n\t\t\t\tpreferences.emailNotificationMode = settings.emailNotificationMode\n\n\t\t\tif settings.mergeChannels isnt \"-1\"\n\t\t\t\tpreferences.mergeChannels = settings.mergeChannels is \"1\"\n\t\t\telse\n\t\t\t\tdelete preferences.mergeChannels\n\n\t\t\tpreferences.desktopNotificationDuration = settings.desktopNotificationDuration - 0\n\t\t\tpreferences.viewMode = settings.viewMode || 0\n\t\t\tpreferences.hideUsernames = settings.hideUsernames is \"1\"\n\t\t\tpreferences.hideAvatars = settings.hideAvatars is \"1\"\n\t\t\tpreferences.hideFlexTab = settings.hideFlexTab is \"1\"\n\t\t\tpreferences.highlights = settings.highlights\n\n\t\t\tRocketChat.models.Users.setPreferences Meteor.userId(), preferences\n\n\t\t\treturn true\n"]}