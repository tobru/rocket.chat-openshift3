{"version":3,"sources":["meteor://ðŸ’»app/server/methods/setUserPassword.coffee"],"names":[],"mappings":";;;;;;;;;AAAA,MAAM,CAAC,OAAP,CACC;AAAA,mBAAiB,SAAC,QAAD;AAChB;AAAA,QAAG,OAAU,CAAC,MAAP,EAAP;AACC,YAAU,UAAM,CAAC,KAAP,CAAa,oBAAb,EAAmC,cAAnC,EAAmD;AAAA,QAAE,QAAQ,iBAAV;OAAnD,CAAV,CADD;KAAA;AAAA,IAGA,OAAO,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,WAAxB,CAAoC,MAAM,CAAC,MAAP,EAApC,CAHP;AAIA,QAAG,QAAS,IAAI,CAAC,qBAAL,KAAgC,IAA5C;AACC,YAAU,UAAM,CAAC,KAAP,CAAa,mBAAb,EAAkC,aAAlC,EAAiD;AAAA,QAAE,QAAQ,iBAAV;OAAjD,CAAV,CADD;KAJA;AAAA,IAOA,QAAQ,CAAC,WAAT,CAAqB,MAAM,CAAC,MAAP,EAArB,EAAsC,QAAtC,EAAgD;AAAA,MAAE,QAAQ,KAAV;KAAhD,CAPA;AAQA,WAAO,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,0BAAxB,CAAmD,MAAM,CAAC,MAAP,EAAnD,CAAP,CARA;AAUA,WAAO,IAAP,CAXgB;EAAA,CAAjB;CADD","file":"/server/methods/setUserPassword.coffee.js","sourcesContent":["Meteor.methods\n\tsetUserPassword: (password) ->\n\t\tif not Meteor.userId()\n\t\t\tthrow new Meteor.Error 'error-invalid-user', 'Invalid user', { method: 'setUserPassword' }\n\n\t\tuser = RocketChat.models.Users.findOneById Meteor.userId()\n\t\tif user and user.requirePasswordChange isnt true\n\t\t\tthrow new Meteor.Error 'error-not-allowed', 'Not allowed', { method: 'setUserPassword' }\n\n\t\tAccounts.setPassword(Meteor.userId(), password, { logout: false });\n\t\treturn RocketChat.models.Users.unsetRequirePasswordChange(Meteor.userId());\n\n\t\treturn true;\n"]}