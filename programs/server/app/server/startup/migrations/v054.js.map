{"version":3,"sources":["meteor://ðŸ’»app/server/startup/migrations/v054.js"],"names":[],"mappings":";;;;;;;;AAAA,UAAU,CAAC,UAAU,CAAC,GAAG,CAAC;AACzB,QAAO,EAAE,EAAE;AACX,GAAE,EAAE,YAAW;AACd,MAAI,UAAU,IAAI,UAAU,CAAC,MAAM,IAAI,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE;;AAE/D,aAAU,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,kCAAkC,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,+BAA+B,EAAE,CAAC,EAAE,EAAE,MAAM,EAAE,EAAE,kCAAkC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACnM,aAAU,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,+BAA+B,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,+BAA+B,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;GACnJ;EACD;CACD,CAAC,CAAC,sE","file":"/server/startup/migrations/v054.js","sourcesContent":["RocketChat.Migrations.add({\n\tversion: 54,\n\tup: function() {\n\t\tif (RocketChat && RocketChat.models && RocketChat.models.Users) {\n\t\t\t// Set default message viewMode to 'normal' or 'cozy' depending on the users' current settings and remove the field 'compactView'\n\t\t\tRocketChat.models.Users.update({ 'settings.preferences.compactView': true }, { $set: { 'settings.preferences.viewMode': 1 }, $unset: { 'settings.preferences.compactView': 1 } }, { multi: true });\n\t\t\tRocketChat.models.Users.update({ 'settings.preferences.viewMode': { $ne: 1 } }, { $set: { 'settings.preferences.viewMode': 0 } }, { multi: true });\n\t\t}\n\t}\n});\n"]}