{"version":3,"sources":["meteor://ðŸ’»app/server/startup/migrations/v037.js"],"names":[],"mappings":";;;;;;;;AAAA,UAAU,CAAC,UAAU,CAAC,GAAG,CAAC;AACzB,QAAO,EAAE,EAAE;AACX,GAAE,EAAE,YAAW;AACd,MAAI,UAAU,IAAI,UAAU,CAAC,MAAM,IAAI,UAAU,CAAC,MAAM,CAAC,WAAW,EAAE;;;AAGrE,OAAI,iBAAiB,GAAG,UAAU,CAAC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;;AAE1E,OAAI,iBAAiB,EAAE;AACtB,cAAU,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE,GAAG,EAAE,aAAa,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,KAAK,EAAE,iBAAiB,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;AAC3G,cAAU,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE,GAAG,EAAE,UAAU,EAAE,CAAC,CAAC;IAC1D;GACD;EACD;CACD,CAAC,CAAC,sE","file":"/server/startup/migrations/v037.js","sourcesContent":["RocketChat.Migrations.add({\n\tversion: 37,\n\tup: function() {\n\t\tif (RocketChat && RocketChat.models && RocketChat.models.Permissions) {\n\n\t\t\t// Find permission add-user (changed it to create-user)\n\t\t\tvar addUserPermission = RocketChat.models.Permissions.findOne('add-user');\n\n\t\t\tif (addUserPermission) {\n\t\t\t\tRocketChat.models.Permissions.upsert({ _id: 'create-user' }, { $set: { roles: addUserPermission.roles } });\n\t\t\t\tRocketChat.models.Permissions.remove({ _id: 'add-user' });\n\t\t\t}\n\t\t}\n\t}\n});\n"]}