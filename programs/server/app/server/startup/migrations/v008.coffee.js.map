{"version":3,"sources":["meteor://ðŸ’»app/server/startup/migrations/v008.coffee"],"names":[],"mappings":";;;;;;;;;AAAA,UAAU,CAAC,UAAU,CAAC,GAAtB,CACC;AAAA,WAAS,CAAT;AAAA,EACA,IAAI;AACH;AAAA,WAAO,CAAC,GAAR,CAAY,0BAAZ;AAAA,IACA,WAAW,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,OAA3B,CAAmC;AAAA,MAAE,KAAK,UAAP;KAAnC,CADX;AAEA,QAAG,QAAH;AACC,UAAyH,2BAAzH;AAAA,kBAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,MAA3B,CAAkC;AAAA,UAAE,KAAK,YAAP;AAAA,UAAqB,OAAO,QAAQ,CAAC,UAArC;AAAA,UAAiD,MAAM,QAAvD;AAAA,UAAiE,OAAO,SAAxE;SAAlC;OAAA;AACA,UAAsH,8DAAtH;AAAA,kBAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,MAA3B,CAAkC;AAAA,UAAE,KAAK,UAAP;AAAA,UAAmB,OAAO,QAAQ,CAAC,GAAG,CAAC,QAAvC;AAAA,UAAiD,MAAM,QAAvD;AAAA,UAAiE,OAAO,MAAxE;SAAlC;OADA;AAEA,UAAwJ,qCAAxJ;AAAA,kBAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,MAA3B,CAAkC;AAAA,UAAE,KAAK,+BAAP;AAAA,UAAwC,OAAO,QAAQ,CAAC,oBAAxD;AAAA,UAA8E,MAAM,SAApF;AAAA,UAA+F,OAAO,UAAtG;SAAlC;OAFA;AAGA,UAAwI,+GAAxI;AAAA,kBAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,MAA3B,CAAkC;AAAA,UAAE,KAAK,kBAAP;AAAA,UAA2B,OAAO,QAAQ,CAAC,QAAD,CAAO,CAAC,WAAW,CAAC,IAA9D;AAAA,UAAoE,MAAM,QAA1E;AAAA,UAAoF,OAAO,KAA3F;SAAlC;OAHA;AAIA,UAAwI,+GAAxI;AAAA,kBAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,MAA3B,CAAkC;AAAA,UAAE,KAAK,kBAAP;AAAA,UAA2B,OAAO,QAAQ,CAAC,QAAD,CAAO,CAAC,WAAW,CAAC,IAA9D;AAAA,UAAoE,MAAM,QAA1E;AAAA,UAAoF,OAAO,KAA3F;SAAlC;OAJA;aAKA,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,MAA3B,CAAkC;AAAA,QAAE,KAAK,UAAP;OAAlC,EAND;KAHG;EAAA,CADJ;CADD","file":"/server/startup/migrations/v008.coffee.js","sourcesContent":["RocketChat.Migrations.add\n\tversion: 8\n\tup: ->\n\t\tconsole.log 'Load old settings record'\n\t\tsettings = RocketChat.models.Settings.findOne({ _id: 'settings' })\n\t\tif settings\n\t\t\tRocketChat.models.Settings.insert { _id: 'CDN_PREFIX', value: settings.CDN_PREFIX, type: 'string', group: 'General' } if settings.CDN_PREFIX?\n\t\t\tRocketChat.models.Settings.insert { _id: 'MAIL_URL', value: settings.ENV.MAIL_URL, type: 'string', group: 'SMTP' } if settings.ENV?.MAIL_URL?\n\t\t\tRocketChat.models.Settings.insert { _id: 'Accounts_denyUnverifiedEmails', value: settings.denyUnverifiedEmails, type: 'boolean', group: 'Accounts' } if settings.denyUnverifiedEmails?\n\t\t\tRocketChat.models.Settings.insert { _id: 'avatarStore_type', value: settings.public.avatarStore.type, type: 'string', group: 'API' } if settings.public?.avatarStore?.type?\n\t\t\tRocketChat.models.Settings.insert { _id: 'avatarStore_path', value: settings.public.avatarStore.path, type: 'string', group: 'API' } if settings.public?.avatarStore?.path?\n\t\t\tRocketChat.models.Settings.remove { _id: 'settings' }\n"]}