{"version":3,"sources":["meteor://ðŸ’»app/server/startup/migrations/v031.coffee"],"names":[],"mappings":";;;;;;;;;AAAA,UAAU,CAAC,UAAU,CAAC,GAAtB,CACC;AAAA,WAAS,EAAT;AAAA,EACA,IAAI;AACH;AAAA,cACC;AAAA,qBAAe,qBAAf;KADD;AAGA;SAAA;yBAAA;AACC,eAAS,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,OAA3B,CAAmC;AAAA,aAAK,IAAL;OAAnC,CAAT;AACA,UAAG,cAAH;AACC,qBAAa,CAAC,GAAd;AAAA,QACA,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,MAA3B,CAAkC;AAAA,UAAC,KAAK,EAAN;SAAlC,EAA6C,MAA7C,CADA,CADD;OADA;AAAA,mBAIA,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,MAA3B,CAAkC;AAAA,aAAK,IAAL;OAAlC,EAJA,CADD;AAAA;mBAJG;EAAA,CADJ;CADD","file":"/server/startup/migrations/v031.coffee.js","sourcesContent":["RocketChat.Migrations.add\n\tversion: 31\n\tup: ->\n\t\tchanges =\n\t\t\tAPI_Analytics: 'GoogleTagManager_id'\n\n\t\tfor from, to of changes\n\t\t\trecord = RocketChat.models.Settings.findOne _id: from\n\t\t\tif record?\n\t\t\t\tdelete record._id\n\t\t\t\tRocketChat.models.Settings.upsert {_id: to}, record\n\t\t\tRocketChat.models.Settings.remove _id: from\n"]}