{"version":3,"sources":["meteor://ðŸ’»app/server/startup/migrations/v001.coffee"],"names":[],"mappings":";;;;;;;;;AAAA,UAAU,CAAC,UAAU,CAAC,GAAtB,CACC;AAAA,WAAS,CAAT;AAAA,EACA,IAAI;WACH,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,IAAxB,CAA6B;AAAA,MAAC,UAAU;AAAA,QAAC,SAAS,KAAV;OAAX;AAAA,MAA6B,WAAW;AAAA,QAAC,SAAS,IAAV;OAAxC;KAA7B,CAAsF,CAAC,OAAvF,CAA+F,SAAC,IAAD;AAC9F;AAAA,iBAAW,mBAAmB,IAAnB,CAAX;AACA,UAAG,sBAAc,QAAQ,CAAC,IAAT,OAAqB,EAAtC;eACC,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,WAAxB,CAAoC,IAAI,CAAC,GAAzC,EAA8C,QAA9C,EADD;OAAA;eAGC,OAAO,CAAC,GAAR,CAAY,uBAAZ,EAAqC,IAAI,CAAC,SAAL,CAAe,IAAf,EAAqB,IAArB,EAA2B,GAA3B,CAArC,EAHD;OAF8F;IAAA,CAA/F,EADG;EAAA,CADJ;CADD","file":"/server/startup/migrations/v001.coffee.js","sourcesContent":["RocketChat.Migrations.add\n\tversion: 1\n\tup: ->\n\t\tRocketChat.models.Users.find({username: {$exists: false}, lastLogin: {$exists: true}}).forEach (user) ->\n\t\t\tusername = generateSuggestion(user)\n\t\t\tif username? and username.trim() isnt ''\n\t\t\t\tRocketChat.models.Users.setUsername user._id, username\n\t\t\telse\n\t\t\t\tconsole.log \"User without username\", JSON.stringify(user, null, ' ')\n"]}