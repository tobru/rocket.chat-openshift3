{"version":3,"sources":["meteor://ðŸ’»app/server/startup/migrations/v018.coffee"],"names":[],"mappings":";;;;;;;;;AAAA,UAAU,CAAC,UAAU,CAAC,GAAtB,CACC;AAAA,WAAS,EAAT;AAAA,EACA,IAAI;AACH;AAAA,cACC;AAAA,yBAAmB,yBAAnB;AAAA,MACA,sBAAsB,4BADtB;AAAA,MAEA,0BAA0B,gCAF1B;AAAA,MAGA,iBAAiB,uBAHjB;AAAA,MAIA,oBAAoB,0BAJpB;AAAA,MAKA,wBAAwB,8BALxB;AAAA,MAMA,iBAAiB,uBANjB;AAAA,MAOA,oBAAoB,0BAPpB;AAAA,MAQA,wBAAwB,8BARxB;AAAA,MASA,iBAAiB,uBATjB;AAAA,MAUA,oBAAoB,0BAVpB;AAAA,MAWA,wBAAwB,8BAXxB;AAAA,MAYA,mBAAmB,yBAZnB;AAAA,MAaA,sBAAsB,4BAbtB;AAAA,MAcA,0BAA0B,gCAd1B;AAAA,MAeA,iBAAiB,uBAfjB;AAAA,MAgBA,oBAAoB,0BAhBpB;AAAA,MAiBA,wBAAwB,8BAjBxB;AAAA,MAkBA,kBAAkB,wBAlBlB;AAAA,MAmBA,qBAAqB,2BAnBrB;AAAA,MAoBA,yBAAyB,+BApBzB;KADD;AAuBA;yBAAA;AACC,eAAS,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,OAA3B,CAAmC;AAAA,aAAK,IAAL;OAAnC,CAAT;AACA,UAAG,cAAH;AACC,qBAAa,CAAC,GAAd;AAAA,QACA,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,MAA3B,CAAkC;AAAA,UAAC,KAAK,EAAN;SAAlC,EAA6C,MAA7C,CADA,CADD;OADA;AAAA,MAIA,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,MAA3B,CAAkC;AAAA,aAAK,IAAL;OAAlC,CAJA,CADD;AAAA,KAvBA;WA8BA,oBAAoB,CAAC,cAAc,CAAC,MAApC,CAA2C,EAA3C,EA/BG;EAAA,CADJ;CADD","file":"/server/startup/migrations/v018.coffee.js","sourcesContent":["RocketChat.Migrations.add\n\tversion: 18\n\tup: ->\n\t\tchanges =\n\t\t\tAccounts_Facebook: 'Accounts_OAuth_Facebook'\n\t\t\tAccounts_Facebook_id: 'Accounts_OAuth_Facebook_id'\n\t\t\tAccounts_Facebook_secret: 'Accounts_OAuth_Facebook_secret'\n\t\t\tAccounts_Google: 'Accounts_OAuth_Google'\n\t\t\tAccounts_Google_id: 'Accounts_OAuth_Google_id'\n\t\t\tAccounts_Google_secret: 'Accounts_OAuth_Google_secret'\n\t\t\tAccounts_Github: 'Accounts_OAuth_Github'\n\t\t\tAccounts_Github_id: 'Accounts_OAuth_Github_id'\n\t\t\tAccounts_Github_secret: 'Accounts_OAuth_Github_secret'\n\t\t\tAccounts_Gitlab: 'Accounts_OAuth_Gitlab'\n\t\t\tAccounts_Gitlab_id: 'Accounts_OAuth_Gitlab_id'\n\t\t\tAccounts_Gitlab_secret: 'Accounts_OAuth_Gitlab_secret'\n\t\t\tAccounts_Linkedin: 'Accounts_OAuth_Linkedin'\n\t\t\tAccounts_Linkedin_id: 'Accounts_OAuth_Linkedin_id'\n\t\t\tAccounts_Linkedin_secret: 'Accounts_OAuth_Linkedin_secret'\n\t\t\tAccounts_Meteor: 'Accounts_OAuth_Meteor'\n\t\t\tAccounts_Meteor_id: 'Accounts_OAuth_Meteor_id'\n\t\t\tAccounts_Meteor_secret: 'Accounts_OAuth_Meteor_secret'\n\t\t\tAccounts_Twitter: 'Accounts_OAuth_Twitter'\n\t\t\tAccounts_Twitter_id: 'Accounts_OAuth_Twitter_id'\n\t\t\tAccounts_Twitter_secret: 'Accounts_OAuth_Twitter_secret'\n\n\t\tfor from, to of changes\n\t\t\trecord = RocketChat.models.Settings.findOne _id: from\n\t\t\tif record?\n\t\t\t\tdelete record._id\n\t\t\t\tRocketChat.models.Settings.upsert {_id: to}, record\n\t\t\tRocketChat.models.Settings.remove _id: from\n\n\t\tServiceConfiguration.configurations.remove({})\n"]}