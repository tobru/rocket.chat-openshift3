{"version":3,"sources":["meteor://ðŸ’»app/server/startup/migrations/v040.js"],"names":[],"mappings":";;;;;;;;AAAA,UAAU,CAAC,UAAU,CAAC,GAAG,CAAC;AACzB,QAAO,EAAE,EAAE;AACX,GAAE,EAAE,YAAW;AACd,YAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,wBAAwB,EAAE,SAAS,EAAE,8BAA8B,EAAE,CAAC,CAAC,OAAO,CAAC,UAAS,WAAW,EAAE;AAC3I,OAAI,KAAK,GAAG,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACvC,OAAI,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;AACpB,OAAI,EAAE,GAAG,wBAAwB,GAAG,IAAI,GAAG,iBAAiB,CAAC;AAC7D,OAAI,CAAC,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;AACrD,cAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;AACjC,UAAK,EAAE,EAAE;AACT,WAAM,EAAE,QAAQ;AAChB,YAAO,EAAE,OAAO;AAChB,cAAS,EAAE,gBAAgB,GAAG,IAAI;AAClC,gBAAW,EAAE,sCAAsC;AACnD,iBAAY,EAAE,IAAI;AAClB,aAAQ,EAAE,CACT;AACC,WAAK,EAAE,QAAQ;AACf,iBAAW,EAAE,QAAQ;MACrB,EACD;AACC,WAAK,EAAE,SAAS;AAChB,iBAAW,EAAE,SAAS;MACtB,CACD;AACD,mBAAc,EAAE,SAAS;AACzB,kBAAa,EAAE,cAAc;AAC7B,SAAI,EAAE,IAAI,IAAI,EAAE;AAChB,aAAQ,EAAE,KAAK;AACf,cAAS,EAAE,KAAK;AAChB,aAAQ,EAAE,GAAG;AACb,sBAAiB,EAAE,wBAAwB,GAAG,IAAI,GAAG,6BAA6B;AAClF,gBAAW,EAAE,IAAI,IAAI,EAAE;AACvB,YAAO,EAAE,SAAS;KAClB,CAAC,CAAC;IACH;GACD,CAAC,CAAC;EACH;CACD,CAAC,CAAC,sE","file":"/server/startup/migrations/v040.js","sourcesContent":["RocketChat.Migrations.add({\n\tversion: 40,\n\tup: function() {\n\t\tRocketChat.models.Settings.find({ _id: /Accounts_OAuth_Custom_/, i18nLabel: 'Accounts_OAuth_Custom_Enable' }).forEach(function(customOauth) {\n\t\t\tvar parts = customOauth._id.split('_');\n\t\t\tvar name = parts[3];\n\t\t\tvar id = 'Accounts_OAuth_Custom_' + name + '_token_sent_via';\n\t\t\tif (!RocketChat.models.Settings.findOne({ _id: id })) {\n\t\t\t\tRocketChat.models.Settings.insert({\n\t\t\t\t\t'_id': id,\n\t\t\t\t\t'type': 'select',\n\t\t\t\t\t'group': 'OAuth',\n\t\t\t\t\t'section': 'Custom OAuth: ' + name,\n\t\t\t\t\t'i18nLabel': 'Accounts_OAuth_Custom_Token_Sent_Via',\n\t\t\t\t\t'persistent': true,\n\t\t\t\t\t'values': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'key': 'header',\n\t\t\t\t\t\t\t'i18nLabel': 'Header'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'key': 'payload',\n\t\t\t\t\t\t\t'i18nLabel': 'Payload'\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\t'packageValue': 'payload',\n\t\t\t\t\t'valueSource': 'packageValue',\n\t\t\t\t\t'ts': new Date(),\n\t\t\t\t\t'hidden': false,\n\t\t\t\t\t'blocked': false,\n\t\t\t\t\t'sorter': 255,\n\t\t\t\t\t'i18nDescription': 'Accounts_OAuth_Custom_' + name + '_token_sent_via_Description',\n\t\t\t\t\t'createdAt': new Date(),\n\t\t\t\t\t'value': 'payload'\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n});\n"]}