{"version":3,"sources":["meteor://ðŸ’»app/server/publications/channelAndPrivateAutocomplete.coffee"],"names":[],"mappings":";;;;;;;;;AAAA,MAAM,CAAC,OAAP,CAAe,+BAAf,EAAgD,SAAC,QAAD;AAC/C;AAAA,WAAW,CAAC,MAAZ;AACC,WAAO,IAAI,CAAC,KAAL,EAAP,CADD;GAAA;AAGA,MAAG,UAAU,CAAC,KAAK,CAAC,aAAjB,CAAgC,IAAC,OAAjC,EAAyC,0BAAzC,MAA0E,IAA7E;AACC,WAAO,IAAI,CAAC,KAAL,EAAP,CADD;GAHA;AAAA,EAMA,MAAM,IANN;AAAA,EAQA,UACC;AAAA,YACC;AAAA,WAAK,CAAL;AAAA,MACA,MAAM,CADN;KADD;AAAA,IAGA,OAAO,EAHP;AAAA,IAIA,MACC;AAAA,YAAM,CAAN;KALD;GATD;AAAA,EAgBA,eAAe,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,0BAAxB,CAAmD,QAAQ,CAAC,IAA5D,EAAkE,CAAC,GAAD,EAAM,GAAN,CAAlE,EAA8E,OAA9E,CAAsF,CAAC,cAAvF,CACd;AAAA,WAAO,SAAC,GAAD,EAAM,MAAN;aACN,GAAG,CAAC,KAAJ,CAAU,qBAAV,EAAiC,GAAjC,EAAsC,MAAtC,EADM;IAAA,CAAP;AAAA,IAEA,SAAS,SAAC,GAAD,EAAM,MAAN;aACR,GAAG,CAAC,OAAJ,CAAY,qBAAZ,EAAmC,GAAnC,EAAwC,MAAxC,EADQ;IAAA,CAFT;AAAA,IAIA,SAAS,SAAC,GAAD,EAAM,MAAN;aACR,GAAG,CAAC,OAAJ,CAAY,qBAAZ,EAAmC,GAAnC,EAAwC,MAAxC,EADQ;IAAA,CAJT;GADc,CAhBf;AAAA,EAuBA,IAAC,MAAD,EAvBA;AAAA,EAwBA,IAAC,OAAD,CAAQ;WACP,YAAY,CAAC,IAAb,GADO;EAAA,CAAR,CAxBA,CAD+C;AAAA,CAAhD","file":"/server/publications/channelAndPrivateAutocomplete.coffee.js","sourcesContent":["Meteor.publish 'channelAndPrivateAutocomplete', (selector) ->\n\tunless this.userId\n\t\treturn this.ready()\n\n\tif RocketChat.authz.hasPermission( @userId, 'view-other-user-channels') isnt true\n\t\treturn this.ready()\n\n\tpub = this\n\n\toptions =\n\t\tfields:\n\t\t\t_id: 1\n\t\t\tname: 1\n\t\tlimit: 10\n\t\tsort:\n\t\t\tname: 1\n\n\tcursorHandle = RocketChat.models.Rooms.findByNameStartingAndTypes(selector.name, ['c', 'p'], options).observeChanges\n\t\tadded: (_id, record) ->\n\t\t\tpub.added('autocompleteRecords', _id, record)\n\t\tchanged: (_id, record) ->\n\t\t\tpub.changed('autocompleteRecords', _id, record)\n\t\tremoved: (_id, record) ->\n\t\t\tpub.removed('autocompleteRecords', _id, record)\n\t@ready()\n\t@onStop ->\n\t\tcursorHandle.stop()\n\treturn\n"]}