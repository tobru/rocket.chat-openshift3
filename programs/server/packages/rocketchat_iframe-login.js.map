{"version":3,"sources":["meteor://ðŸ’»app/iframe_rocketchat.js","meteor://ðŸ’»app/iframe_server.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAM,CAAC,OAAO,CAAC,YAAW;AACzB,WAAU,CAAC,QAAQ,CAAC,QAAQ,CAAC,UAAU,EAAE,YAAW;AACnD,MAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,YAAW;AACjC,OAAI,CAAC,GAAG,CAAC,yBAAyB,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,UAAQ,IAAI,EAAE,CAAC,CAAC;AAC9E,OAAI,CAAC,GAAG,CAAC,qBAAqB,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAQ,IAAI,EAAE,CAAC,CAAC;AACtE,OAAI,CAAC,GAAG,CAAC,yBAAyB,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAQ,IAAI,EAAE,CAAC,CAAC;AAC1E,OAAI,CAAC,GAAG,CAAC,4BAA4B,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAQ,IAAI,EAAE,CAAC,CAAC;GACjF,CAAC,CAAC;EACH,CAAC,CAAC;CACH,CAAC,CAAC,sF;;;;;;;;;;;;;;;;;;;;ACPH,QAAQ,CAAC,oBAAoB,CAAC,QAAQ,EAAE,UAAS,MAAM,EAAE;AACxD,KAAI,CAAC,MAAM,CAAC,MAAM,EAAE;AACnB,SAAO;EACP;;AAED,QAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;;AAE7C,KAAI,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC;AAC/B,yBAAuB,EAAE,MAAM,CAAC,KAAK;EACrC,CAAC,CAAC;;AAEH,KAAI,IAAI,EAAE;AACT,SAAO;AACN,SAAM,EAAE,IAAI,CAAC,GAAG;GAChB,CAAC;EACF;CACD,CAAC,CAAC;;AAGH,MAAM,CAAC,OAAO,CAAC;AACd,2BAA0B,YAAC,eAAe,EAAE,gBAAgB,EAAE;AAC7D,SAAO,KAAK,CAAC,kBAAkB,CAAC,eAAe,EAAE,gBAAgB,CAAC,CAAC;EACnE;CACD,CAAC,CAAC,sF","file":"/packages/rocketchat_iframe-login.js","sourcesContent":["Meteor.startup(function() {\n\tRocketChat.settings.addGroup('Accounts', function() {\n\t\tthis.section('Iframe', function() {\n\t\t\tthis.add('Accounts_iframe_enabled', false, { type: 'boolean', public: true });\n\t\t\tthis.add('Accounts_iframe_url', '', { type: 'string', public: true });\n\t\t\tthis.add('Accounts_Iframe_api_url', '', { type: 'string', public: true });\n\t\t\tthis.add('Accounts_Iframe_api_method', 'POST', { type: 'string', public: true });\n\t\t});\n\t});\n});\n","/* globals Accounts, OAuth */\n\nAccounts.registerLoginHandler('iframe', function(result) {\n\tif (!result.iframe) {\n\t\treturn;\n\t}\n\n\tconsole.log('[Method] registerLoginHandler');\n\n\tvar user = Meteor.users.findOne({\n\t\t'services.iframe.token': result.token\n\t});\n\n\tif (user) {\n\t\treturn {\n\t\t\tuserId: user._id\n\t\t};\n\t}\n});\n\n\nMeteor.methods({\n\t'OAuth.retrieveCredential'(credentialToken, credentialSecret) {\n\t\treturn OAuth.retrieveCredential(credentialToken, credentialSecret);\n\t}\n});\n"]}