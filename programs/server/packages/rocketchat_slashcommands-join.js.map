{"version":3,"sources":["meteor://ðŸ’»app/packages/rocketchat_slashcommands-join/server.coffee"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;GAAA;AAAA;;AAAA;AAMc,gBAAC,OAAD,EAAU,MAAV,EAAkB,IAAlB;AACZ;AAAA,QAAG,YAAa,MAAb,IAAuB,MAAS,CAAC,IAAN,CAAW,MAAX,EAAmB,MAAnB,CAA9B;AACC,aADD;KAAA;AAAA,IAGA,UAAU,MAAM,CAAC,IAAP,EAHV;AAIA,QAAG,YAAW,EAAd;AACC,aADD;KAJA;AAAA,IAOA,UAAU,OAAO,CAAC,OAAR,CAAgB,GAAhB,EAAqB,EAArB,CAPV;AAAA,IASA,OAAO,MAAM,CAAC,KAAK,CAAC,OAAb,CAAqB,MAAM,CAAC,MAAP,EAArB,CATP;AAAA,IAUA,OAAO,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,wCAAxB,CAAiE,OAAjE,EAA0E,GAA1E,EAA+E,IAAI,CAAC,QAApF,CAVP;AAYA,QAAO,YAAP;AACC,gBAAU,CAAC,aAAa,CAAC,UAAzB,CAAoC,MAAM,CAAC,MAAP,EAApC,EAAqD,SAArD,EAAgE;AAAA,QAC/D,KAAK,MAAM,CAAC,EAAP,EAD0D;AAAA,QAE/D,KAAK,IAAI,CAAC,GAFqD;AAAA,QAG/D,IAAI,QAH2D;AAAA,QAI/D,KAAK,OAAO,CAAC,EAAR,CAAW,sBAAX,EAAmC;AAAA,UAAE,aAAa,SAAf;AAAA,UAA0B,SAAS,CAAE,OAAF,CAAnC;SAAnC,EAAqF,IAAI,CAAC,QAA1F,CAJ0D;OAAhE;AAMA,aAPD;KAZA;AAAA,IAqBA,MAAM,CAAC,IAAP,CAAY,UAAZ,EAAwB,IAAI,CAAC,GAA7B,CArBA,CADY;EAAA,CAAb;;cAAA;;IAND;;AAAA,UA8BU,CAAC,aAAa,CAAC,GAAzB,CAA6B,MAA7B,EAAqC,IAArC,CA9BA","file":"/packages/rocketchat_slashcommands-join.js","sourcesContent":["###\n# Join is a named function that will replace /join commands\n# @param {Object} message - The message object\n###\n\nclass Join\n\tconstructor: (command, params, item) ->\n\t\tif command isnt 'join' or not Match.test params, String\n\t\t\treturn\n\n\t\tchannel = params.trim()\n\t\tif channel is ''\n\t\t\treturn\n\n\t\tchannel = channel.replace('#', '')\n\n\t\tuser = Meteor.users.findOne Meteor.userId()\n\t\troom = RocketChat.models.Rooms.findOneByNameAndTypeNotContainigUsername(channel, 'c', user.username)\n\n\t\tif not room?\n\t\t\tRocketChat.Notifications.notifyUser Meteor.userId(), 'message', {\n\t\t\t\t_id: Random.id()\n\t\t\t\trid: item.rid\n\t\t\t\tts: new Date\n\t\t\t\tmsg: TAPi18n.__('Channel_doesnt_exist', { postProcess: 'sprintf', sprintf: [ channel ] }, user.language)\n\t\t\t}\n\t\t\treturn\n\n\t\tMeteor.call 'joinRoom', room._id\n\nRocketChat.slashCommands.add 'join', Join\n"]}