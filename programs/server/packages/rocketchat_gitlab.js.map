{"version":3,"sources":["meteor://ðŸ’»app/packages/rocketchat_gitlab/common.coffee","meteor://ðŸ’»app/packages/rocketchat_gitlab/startup.coffee"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;AAAA,SACC;AAAA,aAAW,oBAAX;AAAA,EACA,cAAc,cADd;AAAA,EAEA,sBACC;AAAA,qBAAiB,CAAC,iBAAD,CAAjB;AAAA,IACA,eAAe,CAAC,0BAAD,CADf;GAHD;CADD;;AAAA,MAOA,GAAa,gBAAY,QAAZ,EAAsB,MAAtB,CAPb;;AASA,IAAG,MAAM,CAAC,QAAV;AACC,QAAM,CAAC,OAAP,CAAe;WACd,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,QAA3B,CAAoC,gBAApC,CAAqD,CAAC,OAAtD,CACC;AAAA,aAAO,SAAC,MAAD;AACN,cAAM,CAAC,SAAP,GAAmB,UAAU,CAAC,QAAQ,CAAC,GAApB,CAAwB,gBAAxB,CAAnB;eACA,MAAM,CAAC,SAAP,CAAiB,MAAjB,EAFM;MAAA,CAAP;AAAA,MAGA,SAAS,SAAC,MAAD;AACR,cAAM,CAAC,SAAP,GAAmB,UAAU,CAAC,QAAQ,CAAC,GAApB,CAAwB,gBAAxB,CAAnB;eACA,MAAM,CAAC,SAAP,CAAiB,MAAjB,EAFQ;MAAA,CAHT;KADD,EADc;EAAA,CAAf,EADD;CAAA;AAUC,QAAM,CAAC,OAAP,CAAe;WACd,OAAO,CAAC,OAAR,CAAgB;AACf,UAAG,UAAU,CAAC,QAAQ,CAAC,GAApB,CAAwB,gBAAxB,CAAH;AACC,cAAM,CAAC,SAAP,GAAmB,UAAU,CAAC,QAAQ,CAAC,GAApB,CAAwB,gBAAxB,CAAnB;eACA,MAAM,CAAC,SAAP,CAAiB,MAAjB,EAFD;OADe;IAAA,CAAhB,EADc;EAAA,CAAf,EAVD;CATA;;;;;;;;;;;;;;;;;;;;ACAA,UAAU,CAAC,QAAQ,CAAC,QAApB,CAA6B,OAA7B,EAAsC;SACrC,IAAC,QAAD,CAAS,QAAT,EAAmB;AAClB;AAAA,kBAAc;AAAA,MAAC,KAAK,uBAAN;AAAA,MAA+B,OAAO,IAAtC;KAAd;AAAA,IACA,IAAC,IAAD,CAAK,uBAAL,EAA8B,KAA9B,EAAqC;AAAA,MAAE,MAAM,SAAR;AAAA,MAAmB,UAAQ,IAA3B;KAArC,CADA;AAAA,IAEA,IAAC,IAAD,CAAK,gBAAL,EAAuB,EAAvB,EAA2B;AAAA,MAAE,MAAM,QAAR;AAAA,MAAkB,aAAa,WAA/B;AAAA,MAA4C,UAAQ,IAApD;KAA3B,CAFA;AAAA,IAGA,IAAC,IAAD,CAAK,0BAAL,EAAiC,EAAjC,EAAqC;AAAA,MAAE,MAAM,QAAR;AAAA,MAAkB,aAAa,WAA/B;KAArC,CAHA;AAAA,IAIA,IAAC,IAAD,CAAK,8BAAL,EAAqC,EAArC,EAAyC;AAAA,MAAE,MAAM,QAAR;AAAA,MAAkB,aAAa,WAA/B;KAAzC,CAJA;WAKA,IAAC,IAAD,CAAK,oCAAL,EAA2C,eAA3C,EAA4D;AAAA,MAAE,MAAM,aAAR;AAAA,MAAuB,UAAU,IAAjC;AAAA,MAAuC,OAAO,IAA9C;AAAA,MAAoD,aAAa,WAAjE;KAA5D,EANkB;EAAA,CAAnB,EADqC;AAAA,CAAtC","file":"/packages/rocketchat_gitlab.js","sourcesContent":["config =\n\tserverURL: 'https://gitlab.com'\n\tidentityPath: '/api/v3/user'\n\taddAutopublishFields:\n\t\tforLoggedInUser: ['services.gitlab']\n\t\tforOtherUsers: ['services.gitlab.username']\n\nGitlab = new CustomOAuth 'gitlab', config\n\nif Meteor.isServer\n\tMeteor.startup ->\n\t\tRocketChat.models.Settings.findById('API_Gitlab_URL').observe\n\t\t\tadded: (record) ->\n\t\t\t\tconfig.serverURL = RocketChat.settings.get 'API_Gitlab_URL'\n\t\t\t\tGitlab.configure config\n\t\t\tchanged: (record) ->\n\t\t\t\tconfig.serverURL = RocketChat.settings.get 'API_Gitlab_URL'\n\t\t\t\tGitlab.configure config\nelse\n\tMeteor.startup ->\n\t\tTracker.autorun ->\n\t\t\tif RocketChat.settings.get 'API_Gitlab_URL'\n\t\t\t\tconfig.serverURL = RocketChat.settings.get 'API_Gitlab_URL'\n\t\t\t\tGitlab.configure config\n","RocketChat.settings.addGroup 'OAuth', ->\n\t@section 'GitLab', ->\n\t\tenableQuery = {_id: 'Accounts_OAuth_Gitlab', value: true}\n\t\t@add 'Accounts_OAuth_Gitlab', false, { type: 'boolean', public: true }\n\t\t@add 'API_Gitlab_URL', '', { type: 'string', enableQuery: enableQuery, public: true}\n\t\t@add 'Accounts_OAuth_Gitlab_id', '', { type: 'string', enableQuery: enableQuery }\n\t\t@add 'Accounts_OAuth_Gitlab_secret', '', { type: 'string', enableQuery: enableQuery }\n\t\t@add 'Accounts_OAuth_Gitlab_callback_url', '_oauth/gitlab', { type: 'relativeUrl', readonly: true, force: true, enableQuery: enableQuery }\n"]}