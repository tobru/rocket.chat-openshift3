{"version":3,"sources":["meteor://ðŸ’»app/packages/rocketchat_wordpress/common.coffee","meteor://ðŸ’»app/packages/rocketchat_wordpress/startup.coffee"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;AAAA,SACC;AAAA,aAAW,EAAX;AAAA,EACA,cAAc,WADd;AAAA,EAEA,sBACC;AAAA,qBAAiB,CAAC,oBAAD,CAAjB;AAAA,IACA,eAAe,CAAC,+BAAD,CADf;GAHD;CADD;;AAAA,SAOA,GAAgB,gBAAY,WAAZ,EAAyB,MAAzB,CAPhB;;AASA,IAAG,MAAM,CAAC,QAAV;AACC,QAAM,CAAC,OAAP,CAAe;WACd,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,IAA3B,CAAgC;AAAA,MAAE,KAAK,mBAAP;KAAhC,CAA6D,CAAC,OAA9D,CACC;AAAA,aAAO,SAAC,MAAD;AACN,cAAM,CAAC,SAAP,GAAmB,UAAU,CAAC,QAAQ,CAAC,GAApB,CAAwB,mBAAxB,CAAnB;eACA,SAAS,CAAC,SAAV,CAAoB,MAApB,EAFM;MAAA,CAAP;AAAA,MAGA,SAAS,SAAC,MAAD;AACR,cAAM,CAAC,SAAP,GAAmB,UAAU,CAAC,QAAQ,CAAC,GAApB,CAAwB,mBAAxB,CAAnB;eACA,SAAS,CAAC,SAAV,CAAoB,MAApB,EAFQ;MAAA,CAHT;KADD,EADc;EAAA,CAAf,EADD;CAAA;AAUC,QAAM,CAAC,OAAP,CAAe;WACd,OAAO,CAAC,OAAR,CAAgB;AACf,UAAG,UAAU,CAAC,QAAQ,CAAC,GAApB,CAAwB,mBAAxB,CAAH;AACC,cAAM,CAAC,SAAP,GAAmB,UAAU,CAAC,QAAQ,CAAC,GAApB,CAAwB,mBAAxB,CAAnB;eACA,SAAS,CAAC,SAAV,CAAoB,MAApB,EAFD;OADe;IAAA,CAAhB,EADc;EAAA,CAAf,EAVD;CATA;;;;;;;;;;;;;;;;;;;;ACAA,UAAU,CAAC,QAAQ,CAAC,QAApB,CAA6B,OAA7B,EAAsC;SACrC,IAAC,QAAD,CAAS,WAAT,EAAsB;AACrB;AAAA,kBAAc;AAAA,MAAC,KAAK,0BAAN;AAAA,MAAkC,OAAO,IAAzC;KAAd;AAAA,IACA,IAAC,IAAD,CAAK,0BAAL,EAAiC,KAAjC,EAAwC;AAAA,MAAE,MAAM,SAAR;AAAA,MAAmB,UAAQ,IAA3B;KAAxC,CADA;AAAA,IAEA,IAAC,IAAD,CAAK,mBAAL,EAA0B,EAA1B,EAA8B;AAAA,MAAE,MAAM,QAAR;AAAA,MAAkB,aAAa,WAA/B;AAAA,MAA4C,UAAQ,IAApD;KAA9B,CAFA;AAAA,IAGA,IAAC,IAAD,CAAK,6BAAL,EAAoC,EAApC,EAAwC;AAAA,MAAE,MAAM,QAAR;AAAA,MAAkB,aAAa,WAA/B;KAAxC,CAHA;AAAA,IAIA,IAAC,IAAD,CAAK,iCAAL,EAAwC,EAAxC,EAA4C;AAAA,MAAE,MAAM,QAAR;AAAA,MAAkB,aAAa,WAA/B;KAA5C,CAJA;WAKA,IAAC,IAAD,CAAK,uCAAL,EAA8C,kBAA9C,EAAkE;AAAA,MAAE,MAAM,aAAR;AAAA,MAAuB,UAAU,IAAjC;AAAA,MAAuC,OAAO,IAA9C;AAAA,MAAoD,aAAa,WAAjE;KAAlE,EANqB;EAAA,CAAtB,EADqC;AAAA,CAAtC","file":"/packages/rocketchat_wordpress.js","sourcesContent":["config =\n\tserverURL: ''\n\tidentityPath: '/oauth/me'\n\taddAutopublishFields:\n\t\tforLoggedInUser: ['services.wordpress']\n\t\tforOtherUsers: ['services.wordpress.user_login']\n\nWordPress = new CustomOAuth 'wordpress', config\n\nif Meteor.isServer\n\tMeteor.startup ->\n\t\tRocketChat.models.Settings.find({ _id: 'API_Wordpress_URL' }).observe\n\t\t\tadded: (record) ->\n\t\t\t\tconfig.serverURL = RocketChat.settings.get 'API_Wordpress_URL'\n\t\t\t\tWordPress.configure config\n\t\t\tchanged: (record) ->\n\t\t\t\tconfig.serverURL = RocketChat.settings.get 'API_Wordpress_URL'\n\t\t\t\tWordPress.configure config\nelse\n\tMeteor.startup ->\n\t\tTracker.autorun ->\n\t\t\tif RocketChat.settings.get 'API_Wordpress_URL'\n\t\t\t\tconfig.serverURL = RocketChat.settings.get 'API_Wordpress_URL'\n\t\t\t\tWordPress.configure config\n","RocketChat.settings.addGroup 'OAuth', ->\n\t@section 'WordPress', ->\n\t\tenableQuery = {_id: 'Accounts_OAuth_Wordpress', value: true}\n\t\t@add 'Accounts_OAuth_Wordpress', false, { type: 'boolean', public: true }\n\t\t@add 'API_Wordpress_URL', '', { type: 'string', enableQuery: enableQuery, public: true }\n\t\t@add 'Accounts_OAuth_Wordpress_id', '', { type: 'string', enableQuery: enableQuery }\n\t\t@add 'Accounts_OAuth_Wordpress_secret', '', { type: 'string', enableQuery: enableQuery }\n\t\t@add 'Accounts_OAuth_Wordpress_callback_url', '_oauth/wordpress', { type: 'relativeUrl', readonly: true, force: true, enableQuery: enableQuery }\n\n"]}