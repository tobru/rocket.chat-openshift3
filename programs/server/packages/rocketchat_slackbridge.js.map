{"version":3,"sources":["meteor://ðŸ’»app/logger.js","meteor://ðŸ’»app/settings.js","meteor://ðŸ’»app/slackbridge.js"],"names":[],"mappings":"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","file":"/packages/rocketchat_slackbridge.js","sourcesContent":["/* globals logger:true */\n/* exported logger */\n\nlogger = new Logger('SlackBridge', {\n\tsections: {\n\t\tconnection: 'Connection',\n\t\tevents: 'Events'\n\t}\n});\n","Meteor.startup(function() {\n\tRocketChat.settings.addGroup('SlackBridge', function() {\n\t\tthis.add('SlackBridge_Enabled', false, {\n\t\t\ttype: 'boolean',\n\t\t\ti18nLabel: 'Enabled'\n\t\t});\n\n\t\tthis.add('SlackBridge_APIToken', '', {\n\t\t\ttype: 'string',\n\t\t\tenableQuery: {\n\t\t\t\t_id: 'SlackBridge_Enabled',\n\t\t\t\tvalue: true\n\t\t\t},\n\t\t\ti18nLabel: 'API_Token'\n\t\t});\n\t});\n});\n","/* globals logger */\n\nclass SlackBridge {\n\tconstructor() {\n\t\tthis.slackClient = Npm.require('slack-client');\n\t\tthis.apiToken = RocketChat.settings.get('SlackBridge_APIToken');\n\t\tthis.rtm = {};\n\t\tthis.connected = false;\n\t\tthis.userTags = {};\n\n\t\tRocketChat.settings.onload('SlackBridge_APIToken', (key, value) => {\n\t\t\tthis.apiToken = value;\n\t\t\tif (this.connected) {\n\t\t\t\tthis.disconnect();\n\t\t\t\tthis.connect();\n\t\t\t} else if (RocketChat.settings.get('SlackBridge_Enabled')) {\n\t\t\t\tthis.connect();\n\t\t\t}\n\t\t});\n\n\t\tRocketChat.settings.onload('SlackBridge_Enabled', (key, value) => {\n\t\t\tif (value && this.apiToken) {\n\t\t\t\tthis.connect();\n\t\t\t} else {\n\t\t\t\tthis.disconnect();\n\t\t\t}\n\t\t});\n\t}\n\n\tconnect() {\n\t\tif (this.connected === false) {\n\t\t\tthis.connected = true;\n\t\t\tlogger.connection.info('Connecting via token: ', this.apiToken);\n\t\t\tvar RtmClient = this.slackClient.RtmClient;\n\t\t\tthis.rtm = new RtmClient(this.apiToken);\n\t\t\tthis.rtm.start();\n\t\t\tthis.setEvents();\n\t\t}\n\t}\n\n\tdisconnect() {\n\t\tif (this.connected === true) {\n\t\t\tthis.rtm.disconnect && this.rtm.disconnect();\n\t\t\tthis.connected = false;\n\t\t\tlogger.connection.info('Disconnected');\n\t\t}\n\t}\n\n\tconvertSlackMessageToRocketChat(message) {\n\t\tif (!_.isEmpty(message)) {\n\t\t\tmessage = message.replace(/<!everyone>/g, '@all');\n\t\t\tmessage = message.replace(/<!channel>/g, '@all');\n\t\t\tmessage = message.replace(/&gt;/g, '<');\n\t\t\tmessage = message.replace(/&lt;/g, '>');\n\t\t\tmessage = message.replace(/&amp;/g, '&');\n\t\t\tmessage = message.replace(/:simple_smile:/g, ':smile:');\n\t\t\tmessage = message.replace(/:memo:/g, ':pencil:');\n\t\t\tmessage = message.replace(/:piggy:/g, ':pig:');\n\t\t\tmessage = message.replace(/:uk:/g, ':gb:');\n\t\t\tmessage = message.replace(/<(http[s]?:[^>]*)>/g, '$1');\n\n\t\t\tmessage.replace(/(?:<@)([a-zA-Z0-9]+)(?:\\|.+)?(?:>)/g, (match, userId) => {\n\t\t\t\tif (!this.userTags[userId]) {\n\t\t\t\t\tthis.findUser(userId) || this.addUser(userId); // This adds userTags for the userId\n\t\t\t\t}\n\t\t\t\tlet userTags = this.userTags[userId];\n\t\t\t\tif (userTags) {\n\t\t\t\t\tmessage = message.replace(userTags.slack, userTags.rocket);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tmessage = '';\n\t\t}\n\t\treturn message;\n\t}\n\n\tfindChannel(channelId) {\n\t\treturn RocketChat.models.Rooms.findOneByImportId(channelId);\n\t}\n\n\taddChannel(channelId, hasRetried = false) {\n\t\tlet data = null;\n\t\tlet isGroup = false;\n\t\tif (channelId.charAt(0) === 'C') {\n\t\t\tdata = HTTP.get('https://slack.com/api/channels.info', { params: { token: this.apiToken, channel: channelId } });\n\t\t} else if (channelId.charAt(0) === 'G') {\n\t\t\tdata = HTTP.get('https://slack.com/api/groups.info', { params: { token: this.apiToken, channel: channelId } });\n\t\t\tisGroup = true;\n\t\t}\n\t\tif (data && data.data && data.data.ok === true) {\n\t\t\tlet channelData = isGroup ? data.data.group : data.data.channel;\n\t\t\tlet existingRoom = RocketChat.models.Rooms.findOneByName(channelData.name);\n\t\t\tif (existingRoom || channelData.is_general) {\n\t\t\t\tif (channelData.is_general && channelData.name !== (existingRoom && existingRoom.name)) {\n\t\t\t\t\tMeteor.call('saveRoomSettings', 'GENERAL', 'roomName', channelData.name);\n\t\t\t\t}\n\t\t\t\tchannelData.rocketId = channelData.is_general ? 'GENERAL' : existingRoom._id;\n\t\t\t\tRocketChat.models.Rooms.update({ _id: channelData.rocketId }, { $addToSet: { importIds: channelData.id } });\n\t\t\t} else {\n\t\t\t\tlet users = [];\n\t\t\t\tfor (let member of channelData.members) {\n\t\t\t\t\tif (member !== channelData.creator) {\n\t\t\t\t\t\tlet user = this.findUser(member) || this.addUser(member);\n\t\t\t\t\t\tif (user) {\n\t\t\t\t\t\t\tusers.push(user.username);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlet creator = this.findUser(channelData.creator) || this.addUser(channelData.creator);\n\t\t\t\tif (!creator) {\n\t\t\t\t\tlogger.events.error('Could not fetch room creator information', channelData.creator);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tMeteor.runAsUser(creator._id, () => {\n\t\t\t\t\t\tif (isGroup) {\n\t\t\t\t\t\t\tlet channel = Meteor.call('createPrivateGroup', channelData.name, users);\n\t\t\t\t\t\t\tchannelData.rocketId = channel._id;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet channel = Meteor.call('createChannel', channelData.name, users);\n\t\t\t\t\t\t\tchannelData.rocketId = channel._id;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (!hasRetried) {\n\t\t\t\t\t\t// If first time trying to create channel fails, could be because of multiple messages received at the same time. Try again once after 1s.\n\t\t\t\t\t\tMeteor._sleepForMs(1000);\n\t\t\t\t\t\treturn this.findChannel(channelId) || this.addChannel(channelId, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet roomUpdate = {\n\t\t\t\t\tts: new Date(channelData.created * 1000)\n\t\t\t\t};\n\t\t\t\tlet lastSetTopic = 0;\n\t\t\t\tif (!_.isEmpty(channelData.topic && channelData.topic.value)) {\n\t\t\t\t\troomUpdate.topic = channelData.topic.value;\n\t\t\t\t\tlastSetTopic = channelData.topic.last_set;\n\t\t\t\t}\n\t\t\t\tif (!_.isEmpty(channelData.purpose && channelData.purpose.value) && channelData.purpose.last_set > lastSetTopic) {\n\t\t\t\t\troomUpdate.topic = channelData.purpose.value;\n\t\t\t\t}\n\t\t\t\tRocketChat.models.Rooms.update({ _id: channelData.rocketId }, { $set: roomUpdate, $addToSet: { importIds: channelData.id } });\n\t\t\t}\n\t\t\treturn RocketChat.models.Rooms.findOne(channelData.rocketId);\n\t\t}\n\n\t\treturn;\n\t}\n\n\tfindUser(userId) {\n\t\tlet user = RocketChat.models.Users.findOneByImportId(userId);\n\t\tif (user && !this.userTags[userId]) {\n\t\t\tthis.userTags[userId] = { slack: `<@${userId}>`, rocket: `@${user.username}` };\n\t\t}\n\t\treturn user;\n\t}\n\n\taddUser(userId) {\n\t\tlet data = HTTP.get('https://slack.com/api/users.info', { params: { token: this.apiToken, user: userId } });\n\t\tif (data && data.data && data.data.ok === true && data.data.user && data.data.user.profile && data.data.user.profile.email) {\n\t\t\tlet userData = data.data.user;\n\t\t\tlet existingUser = RocketChat.models.Users.findOneByEmailAddress(userData.profile.email) || RocketChat.models.Users.findOneByUsername(userData.name);\n\t\t\tif (existingUser) {\n\t\t\t\tuserData.rocketId = existingUser._id;\n\t\t\t\tuserData.name = existingUser.username;\n\t\t\t} else {\n\t\t\t\tuserData.rocketId = Accounts.createUser({ email: userData.profile.email, password: Date.now() + userData.name + userData.profile.email.toUpperCase() });\n\t\t\t\tMeteor.runAsUser(userData.rocketId, () => {\n\t\t\t\t\tMeteor.call('setUsername', userData.name);\n\t\t\t\t\tMeteor.call('joinDefaultChannels', true);\n\t\t\t\t\tlet url = null;\n\t\t\t\t\tif (userData.profile.image_original) {\n\t\t\t\t\t\turl = userData.profile.image_original;\n\t\t\t\t\t} else if (userData.profile.image_512) {\n\t\t\t\t\t\turl = userData.profile.image_512;\n\t\t\t\t\t}\n\t\t\t\t\tMeteor.call('setAvatarFromService', url, null, 'url');\n\t\t\t\t\t// Slack's is -18000 which translates to Rocket.Chat's after dividing by 3600\n\t\t\t\t\tif (userData.tz_offset) {\n\t\t\t\t\t\tMeteor.call('updateUserUtcOffset', userData.tz_offset / 3600);\n\t\t\t\t\t}\n\t\t\t\t\tif (userData.profile.real_name) {\n\t\t\t\t\t\tRocketChat.models.Users.setName(userData.rocketId, userData.profile.real_name);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t// Deleted users are 'inactive' users in Rocket.Chat\n\t\t\t\tif (userData.deleted) {\n\t\t\t\t\tRocketChat.models.Users.setUserActive(userData.rocketId, false);\n\t\t\t\t\tRocketChat.models.Users.unsetLoginTokens(userData.rocketId);\n\t\t\t\t}\n\t\t\t}\n\t\t\tRocketChat.models.Users.update({ _id: userData.rocketId }, { $addToSet: { importIds: userData.id } });\n\t\t\tif (!this.userTags[userId]) {\n\t\t\t\tthis.userTags[userId] = { slack: `<@${userId}>`, rocket: `@${userData.name}` };\n\t\t\t}\n\t\t\treturn RocketChat.models.Users.findOneById(userData.rocketId);\n\t\t}\n\n\t\treturn;\n\t}\n\n\tsaveMessage(room, user, message, msgDataDefaults) {\n\t\tif (message.type === 'message') {\n\t\t\tlet msgObj = {};\n\t\t\tif (!_.isEmpty(message.subtype)) {\n\t\t\t\tmsgObj = this.processSubtypedMessage(room, user, message, msgDataDefaults);\n\t\t\t\tif (!msgObj) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmsgObj = {\n\t\t\t\t\tmsg: this.convertSlackMessageToRocketChat(message.text),\n\t\t\t\t\trid: room._id,\n\t\t\t\t\tu: {\n\t\t\t\t\t\t_id: user._id,\n\t\t\t\t\t\tusername: user.username\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\t_.extend(msgObj, msgDataDefaults);\n\t\t\tif (message.edited) {\n\t\t\t\tmsgObj.ets = new Date(parseInt(message.edited.ts.split('.')[0]) * 1000);\n\t\t\t}\n\t\t\tif (message.subtype === 'bot_message') {\n\t\t\t\tuser = RocketChat.models.Users.findOneById('rocket.cat', { fields: { username: 1 } });\n\t\t\t}\n\t\t\tRocketChat.sendMessage(user, msgObj, room);\n\t\t}\n\t}\n\n\tprocessSubtypedMessage(room, user, message) {\n\t\tlet msgObj = null;\n\t\tswitch (message.subtype) {\n\t\t\tcase 'bot_message':\n\t\t\t\tmsgObj = {\n\t\t\t\t\tmsg: this.convertSlackMessageToRocketChat(message.text),\n\t\t\t\t\trid: room._id,\n\t\t\t\t\tbot: true,\n\t\t\t\t\tattachments: message.attachments,\n\t\t\t\t\tusername: message.username\n\t\t\t\t};\n\t\t\t\tif (message.icons) {\n\t\t\t\t\tmsgObj.emoji = message.icons.emoji;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'me_message':\n\t\t\t\treturn {\n\t\t\t\t\tmsg: `_${this.convertSlackMessageToRocketChat(message.text)}_`\n\t\t\t\t};\n\t\t\tcase 'message_changed':\n\t\t\t\tthis.editMessage(room, user, message);\n\t\t\t\treturn;\n\t\t\tcase 'message_deleted':\n\t\t\t\tmsgObj = RocketChat.models.Messages.findOneById(`${message.channel}S${message.deleted_ts}`);\n\t\t\t\tif (msgObj) {\n\t\t\t\t\tMeteor.runAsUser(user._id, () => {\n\t\t\t\t\t\tMeteor.call('deleteMessage', msgObj);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\tcase 'channel_join':\n\t\t\t\treturn this.joinRoom(room, user);\n\t\t\tcase 'group_join':\n\t\t\t\tlet inviter = this.findUser(message.inviter) || this.addUser(message.inviter);\n\t\t\t\tif (inviter) {\n\t\t\t\t\treturn this.joinPrivateGroup(inviter, room, user);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'channel_leave':\n\t\t\tcase 'group_leave':\n\t\t\t\treturn this.leaveRoom(room, user);\n\t\t\tcase 'channel_topic':\n\t\t\tcase 'group_topic':\n\t\t\t\tthis.setRoomTopic(room, user, message.topic);\n\t\t\t\treturn;\n\t\t\tcase 'channel_purpose':\n\t\t\tcase 'group_purpose':\n\t\t\t\tthis.setRoomTopic(room, user, message.purpose);\n\t\t\t\treturn;\n\t\t\tcase 'channel_name':\n\t\t\tcase 'group_name':\n\t\t\t\tthis.setRoomName(room, user, message.name);\n\t\t\t\treturn;\n\t\t\tcase 'channel_archive':\n\t\t\tcase 'group_archive':\n\t\t\t\tthis.archiveRoom(room, user);\n\t\t\t\treturn;\n\t\t\tcase 'channel_unarchive':\n\t\t\tcase 'group_unarchive':\n\t\t\t\tthis.unarchiveRoom(room, user);\n\t\t\t\treturn;\n\t\t\tcase 'file_share':\n\t\t\t\tif (message.file && message.file.url_private_download !== undefined) {\n\t\t\t\t\tlet details = {\n\t\t\t\t\t\tmessage_id: `S${message.ts}`,\n\t\t\t\t\t\tname: message.file.name,\n\t\t\t\t\t\tsize: message.file.size,\n\t\t\t\t\t\ttype: message.file.mimetype,\n\t\t\t\t\t\trid: room._id\n\t\t\t\t\t};\n\t\t\t\t\treturn this.uploadFile(details, message.file.url_private_download, user, room, new Date(parseInt(message.ts.split('.')[0]) * 1000));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'file_comment':\n\t\t\t\tlogger.events.error('File comment not implemented');\n\t\t\t\treturn;\n\t\t\tcase 'file_mention':\n\t\t\t\tlogger.events.error('File mentioned not implemented');\n\t\t\t\treturn;\n\t\t\tcase 'pinned_item':\n\t\t\t\tif (message.attachments && message.attachments[0] && message.attachments[0].text) {\n\t\t\t\t\tmsgObj = {\n\t\t\t\t\t\t_id: `${message.attachments[0].channel_id}S${message.attachments[0].ts}`,\n\t\t\t\t\t\tts: new Date(parseInt(message.attachments[0].ts.split('.')[0]) * 1000),\n\t\t\t\t\t\trid: room._id,\n\t\t\t\t\t\tmsg: this.convertSlackMessageToRocketChat(message.attachments[0].text),\n\t\t\t\t\t\tu: {\n\t\t\t\t\t\t\t_id: user._id,\n\t\t\t\t\t\t\tusername: user.username\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tMeteor.runAsUser(user._id, () => {\n\t\t\t\t\t\tMeteor.call('pinMessage', msgObj);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tlogger.events.error('Pinned item with no attachment');\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\tcase 'unpinned_item':\n\t\t\t\tlogger.events.error('Unpinned item not implemented');\n\t\t\t\treturn;\n\t\t}\n\t}\n\n\t/**\n\t* Archives a room\n\t**/\n\tarchiveRoom(room, user) {\n\t\tMeteor.runAsUser(user._id, () => {\n\t\t\treturn Meteor.call('archiveRoom', room._id);\n\t\t});\n\t}\n\n\t/**\n\t* Unarchives a room\n\t**/\n\tunarchiveRoom(room, user) {\n\t\tMeteor.runAsUser(user._id, () => {\n\t\t\treturn Meteor.call('unarchiveRoom', room._id);\n\t\t});\n\t}\n\n\t/**\n\t* Adds user to room and sends a message\n\t**/\n\tjoinRoom(room, user) {\n\t\tMeteor.runAsUser(user._id, () => {\n\t\t\treturn Meteor.call('joinRoom', room._id);\n\t\t});\n\t}\n\n\t/**\n\t* Adds user to room and sends a message\n\t**/\n\tjoinPrivateGroup(inviter, room, user) {\n\t\tMeteor.runAsUser(inviter._id, () => {\n\t\t\treturn Meteor.call('addUserToRoom', { rid: room._id, username: user.username });\n\t\t});\n\t}\n\n\t/**\n\t* Removes user from room and sends a message\n\t**/\n\tleaveRoom(room, user) {\n\t\tMeteor.runAsUser(user._id, () => {\n\t\t\treturn Meteor.call('leaveRoom', room._id);\n\t\t});\n\t}\n\n\t/**\n\t* Sets room topic\n\t**/\n\tsetRoomTopic(room, user, topic) {\n\t\tMeteor.runAsUser(user._id, () => {\n\t\t\treturn Meteor.call('saveRoomSettings', room._id, 'roomTopic', topic);\n\t\t});\n\t}\n\n\t/**\n\t* Sets room name\n\t**/\n\tsetRoomName(room, user, name) {\n\t\tMeteor.runAsUser(user._id, () => {\n\t\t\treturn Meteor.call('saveRoomSettings', room._id, 'roomName', name);\n\t\t});\n\t}\n\n\t/**\n\t* Edits a message\n\t**/\n\teditMessage(room, user, message) {\n\t\tlet msgObj = {\n\t\t\t_id: `${message.channel}S${message.message.ts}`,\n\t\t\trid: room._id,\n\t\t\tmsg: this.convertSlackMessageToRocketChat(message.message.text)\n\t\t};\n\t\tMeteor.runAsUser(user._id, () => {\n\t\t\treturn Meteor.call('updateMessage', msgObj);\n\t\t});\n\t}\n\n\t/**\n\tUploads the file to the storage.\n\t@param [Object] details an object with details about the upload. name, size, type, and rid\n\t@param [String] fileUrl url of the file to download/import\n\t@param [Object] user the Rocket.Chat user\n\t@param [Object] room the Rocket.Chat room\n\t@param [Date] timeStamp the timestamp the file was uploaded\n\t**/\n\tuploadFile(details, fileUrl, user, room, timeStamp) {\n\t\tHTTP.get(fileUrl, Meteor.bindEnvironment((stream) => {\n\t\t\tlet fileId = Meteor.fileStore.create(details);\n\t\t\tif (fileId) {\n\t\t\t\tMeteor.fileStore.write(stream, fileId, (err, file) => {\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\tthrow new Error(err);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet url = file.url.replace(Meteor.absoluteUrl(), '/');\n\t\t\t\t\t\tlet attachment = {\n\t\t\t\t\t\t\ttitle: `File Uploaded: ${file.name}`,\n\t\t\t\t\t\t\ttitle_link: url\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (/^image\\/.+/.test(file.type)) {\n\t\t\t\t\t\t\tattachment.image_url = url;\n\t\t\t\t\t\t\tattachment.image_type = file.type;\n\t\t\t\t\t\t\tattachment.image_size = file.size;\n\t\t\t\t\t\t\tattachment.image_dimensions = file.identify && file.identify.size;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (/^audio\\/.+/.test(file.type)) {\n\t\t\t\t\t\t\tattachment.audio_url = url;\n\t\t\t\t\t\t\tattachment.audio_type = file.type;\n\t\t\t\t\t\t\tattachment.audio_size = file.size;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (/^video\\/.+/.test(file.type)) {\n\t\t\t\t\t\t\tattachment.video_url = url;\n\t\t\t\t\t\t\tattachment.video_type = file.type;\n\t\t\t\t\t\t\tattachment.video_size = file.size;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet msg = {\n\t\t\t\t\t\t\trid: details.rid,\n\t\t\t\t\t\t\tts: timeStamp,\n\t\t\t\t\t\t\tmsg: '',\n\t\t\t\t\t\t\tfile: {\n\t\t\t\t\t\t\t\t_id: file._id\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgroupable: false,\n\t\t\t\t\t\t\tattachments: [attachment]\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (details.message_id && (typeof details.message_id === 'string')) {\n\t\t\t\t\t\t\tmsg['_id'] = details.message_id;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn RocketChat.sendMessage(user, msg, room);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}));\n\t}\n\n\tsetEvents() {\n\t\tvar CLIENT_EVENTS = this.slackClient.CLIENT_EVENTS;\n\t\tthis.rtm.on(CLIENT_EVENTS.RTM.AUTHENTICATED, () => {\n\t\t\tlogger.connection.info('Connected');\n\t\t});\n\n\t\tthis.rtm.on(CLIENT_EVENTS.RTM.UNABLE_TO_RTM_START, () => {\n\t\t\tthis.disconnect();\n\t\t});\n\n\t\tthis.rtm.on(CLIENT_EVENTS.RTM.DISCONNECT, () => {\n\t\t\tthis.disconnect();\n\t\t});\n\n\t\tvar RTM_EVENTS = this.slackClient.RTM_EVENTS;\n\n\t\t/**\n\t\t* Event fired when someone messages a channel the bot is in\n\t\t* {\n\t\t*\ttype: 'message',\n\t\t* \tchannel: [channel_id],\n\t\t* \tuser: [user_id],\n\t\t* \ttext: [message],\n\t\t* \tts: [ts.milli],\n\t\t* \tteam: [team_id],\n\t\t* \tsubtype: [message_subtype],\n\t\t* \tinviter: [message_subtype = 'group_join|channel_join' -> user_id]\n\t\t* }\n\t\t**/\n\t\tthis.rtm.on(RTM_EVENTS.MESSAGE, Meteor.bindEnvironment((message) => {\n\t\t\tlogger.events.debug('MESSAGE: ', message);\n\t\t\tif (message) {\n\t\t\t\tlet channel = this.findChannel(message.channel) || this.addChannel(message.channel);\n\t\t\t\tlet user = null;\n\t\t\t\tif (message.subtype === 'message_deleted' || message.subtype === 'message_changed') {\n\t\t\t\t\tuser = this.findUser(message.previous_message.user) || this.addUser(message.previous_message.user);\n\t\t\t\t} else {\n\t\t\t\t\tuser = this.findUser(message.user) || this.addUser(message.user);\n\t\t\t\t}\n\t\t\t\tif (channel && user) {\n\t\t\t\t\tlet msgDataDefaults = {\n\t\t\t\t\t\t_id: `${message.channel}S${message.ts}`,\n\t\t\t\t\t\tts: new Date(parseInt(message.ts.split('.')[0]) * 1000)\n\t\t\t\t\t};\n\t\t\t\t\tthis.saveMessage(channel, user, message, msgDataDefaults);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\t/**\n\t\t* Event fired when someone creates a public channel\n\t\t* {\n\t\t*\ttype: 'channel_created',\n\t\t*\tchannel: {\n\t\t*\t\tid: [channel_id],\n\t\t*\t\tis_channel: true,\n\t\t*\t\tname: [channel_name],\n\t\t*\t\tcreated: [ts],\n\t\t*\t\tcreator: [user_id],\n\t\t*\t\tis_shared: false,\n\t\t*\t\tis_org_shared: false\n\t\t*\t},\n\t\t*\tevent_ts: [ts.milli]\n\t\t* }\n\t\t**/\n\t\tthis.rtm.on(RTM_EVENTS.CHANNEL_CREATED, Meteor.bindEnvironment(() => {}));\n\n\t\t/**\n\t\t* Event fired when the bot joins a public channel\n\t\t* {\n\t\t* \ttype: 'channel_joined',\n\t\t* \tchannel: {\n\t\t* \t\tid: [channel_id],\n\t\t* \t\tname: [channel_name],\n\t\t* \t\tis_channel: true,\n\t\t* \t\tcreated: [ts],\n\t\t* \t\tcreator: [user_id],\n\t\t* \t\tis_archived: false,\n\t\t* \t\tis_general: false,\n\t\t* \t\tis_member: true,\n\t\t* \t\tlast_read: [ts.milli],\n\t\t* \t\tlatest: [message_obj],\n\t\t* \t\tunread_count: 0,\n\t\t* \t\tunread_count_display: 0,\n\t\t* \t\tmembers: [ user_ids ],\n\t\t* \t\ttopic: {\n\t\t* \t\t\tvalue: [channel_topic],\n\t\t* \t\t\tcreator: [user_id],\n\t\t* \t\t\tlast_set: 0\n\t\t* \t\t},\n\t\t* \t\tpurpose: {\n\t\t* \t\t\tvalue: [channel_purpose],\n\t\t* \t\t\tcreator: [user_id],\n\t\t* \t\t\tlast_set: 0\n\t\t* \t\t}\n\t\t* \t}\n\t\t* }\n\t\t**/\n\t\tthis.rtm.on(RTM_EVENTS.CHANNEL_JOINED, Meteor.bindEnvironment(() => {}));\n\n\t\t/**\n\t\t* Event fired when the bot leaves (or is removed from) a public channel\n\t\t* {\n\t\t* \ttype: 'channel_left',\n\t\t* \tchannel: [channel_id]\n\t\t* }\n\t\t**/\n\t\tthis.rtm.on(RTM_EVENTS.CHANNEL_LEFT, Meteor.bindEnvironment(() => {}));\n\n\t\t/**\n\t\t* Event fired when an archived channel is deleted by an admin\n\t\t* {\n\t\t* \ttype: 'channel_deleted',\n\t\t* \tchannel: [channel_id],\n\t\t*\tevent_ts: [ts.milli]\n\t\t* }\n\t\t**/\n\t\tthis.rtm.on(RTM_EVENTS.CHANNEL_DELETED, Meteor.bindEnvironment(() => {}));\n\n\t\t/**\n\t\t* Event fired when the channel has its name changed\n\t\t* {\n\t\t* \ttype: 'channel_rename',\n\t\t* \tchannel: {\n\t\t* \t\tid: [channel_id],\n\t\t* \t\tname: [channel_name],\n\t\t* \t\tis_channel: true,\n\t\t* \t\tcreated: [ts]\n\t\t* \t},\n\t\t*\tevent_ts: [ts.milli]\n\t\t* }\n\t\t**/\n\t\tthis.rtm.on(RTM_EVENTS.CHANNEL_RENAME, Meteor.bindEnvironment(() => {}));\n\n\t\t/**\n\t\t* Event fired when the bot joins a private channel\n\t\t* {\n\t\t* \ttype: 'group_joined',\n\t\t* \tchannel: {\n\t\t* \t\tid: [channel_id],\n\t\t* \t\tname: [channel_name],\n\t\t* \t\tis_group: true,\n\t\t* \t\tcreated: [ts],\n\t\t* \t\tcreator: [user_id],\n\t\t* \t\tis_archived: false,\n\t\t* \t\tis_mpim: false,\n\t\t* \t\tis_open: true,\n\t\t* \t\tlast_read: [ts.milli],\n\t\t* \t\tlatest: [message_obj],\n\t\t* \t\tunread_count: 0,\n\t\t* \t\tunread_count_display: 0,\n\t\t* \t\tmembers: [ user_ids ],\n\t\t* \t\ttopic: {\n\t\t* \t\t\tvalue: [channel_topic],\n\t\t* \t\t\tcreator: [user_id],\n\t\t* \t\t\tlast_set: 0\n\t\t* \t\t},\n\t\t* \t\tpurpose: {\n\t\t* \t\t\tvalue: [channel_purpose],\n\t\t* \t\t\tcreator: [user_id],\n\t\t* \t\t\tlast_set: 0\n\t\t* \t\t}\n\t\t* \t}\n\t\t* }\n\t\t**/\n\t\tthis.rtm.on(RTM_EVENTS.GROUP_JOINED, Meteor.bindEnvironment(() => {}));\n\n\t\t/**\n\t\t* Event fired when the bot leaves (or is removed from) a private channel\n\t\t* {\n\t\t* \ttype: 'group_left',\n\t\t* \tchannel: [channel_id]\n\t\t* }\n\t\t**/\n\t\tthis.rtm.on(RTM_EVENTS.GROUP_LEFT, Meteor.bindEnvironment(() => {}));\n\n\t\t/**\n\t\t* Event fired when the private channel has its name changed\n\t\t* {\n\t\t* \ttype: 'group_rename',\n\t\t* \tchannel: {\n\t\t* \t\tid: [channel_id],\n\t\t* \t\tname: [channel_name],\n\t\t* \t\tis_group: true,\n\t\t* \t\tcreated: [ts]\n\t\t* \t},\n\t\t*\tevent_ts: [ts.milli]\n\t\t* }\n\t\t**/\n\t\tthis.rtm.on(RTM_EVENTS.GROUP_RENAME, Meteor.bindEnvironment(() => {}));\n\n\t\t/**\n\t\t* Event fired when a new user joins the team\n\t\t* {\n\t\t* \ttype: 'team_join',\n\t\t* \tuser:\n\t\t* \t{\n\t\t* \t\tid: [user_id],\n\t\t* \t\tteam_id: [team_id],\n\t\t* \t\tname: [user_name],\n\t\t* \t\tdeleted: false,\n\t\t* \t\tstatus: null,\n\t\t* \t\tcolor: [color_code],\n\t\t* \t\treal_name: '',\n\t\t* \t\ttz: [timezone],\n\t\t* \t\ttz_label: [timezone_label],\n\t\t* \t\ttz_offset: [timezone_offset],\n\t\t* \t\tprofile:\n\t\t* \t\t{\n\t\t* \t\t\tavatar_hash: '',\n\t\t* \t\t\treal_name: '',\n\t\t* \t\t\treal_name_normalized: '',\n\t\t* \t\t\temail: '',\n\t\t* \t\t\timage_24: '',\n\t\t* \t\t\timage_32: '',\n\t\t* \t\t\timage_48: '',\n\t\t* \t\t\timage_72: '',\n\t\t* \t\t\timage_192: '',\n\t\t* \t\t\timage_512: '',\n\t\t* \t\t\tfields: null\n\t\t* \t\t},\n\t\t* \t\tis_admin: false,\n\t\t* \t\tis_owner: false,\n\t\t* \t\tis_primary_owner: false,\n\t\t* \t\tis_restricted: false,\n\t\t* \t\tis_ultra_restricted: false,\n\t\t* \t\tis_bot: false,\n\t\t* \t\tpresence: [user_presence]\n\t\t* \t},\n\t\t* \tcache_ts: [ts]\n\t\t* }\n\t\t**/\n\t\tthis.rtm.on(RTM_EVENTS.TEAM_JOIN, Meteor.bindEnvironment(() => {}));\n\t}\n}\n\nRocketChat.SlackBridge = new SlackBridge;\n"]}