{"version":3,"sources":["meteor://ðŸ’»app/topic.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,SAAS,KAAK,CAAC,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE;AACrC,KAAI,OAAO,KAAK,OAAO,EAAE;AACxB,MAAI,MAAM,CAAC,QAAQ,IAAI,UAAU,CAAC,KAAK,CAAC,uBAAuB,CAAC,WAAW,EAAE,IAAI,CAAC,GAAG,CAAC,IAAK,MAAM,CAAC,QAAQ,IAAI,UAAU,CAAC,KAAK,CAAC,aAAa,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,WAAW,EAAE,IAAI,CAAC,GAAG,CAAE,EAAE;AACtL,SAAM,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,GAAG,EAAE,WAAW,EAAE,MAAM,EAAE,UAAC,GAAG,EAAK;AACvE,QAAI,GAAG,EAAE;AACR,SAAI,MAAM,CAAC,QAAQ,EAAE;AACpB,aAAO,WAAW,CAAC,GAAG,CAAC,CAAC;MACxB,MAAM;AACN,YAAM,GAAG,CAAC;MACV;KACD;;AAED,QAAI,MAAM,CAAC,QAAQ,EAAE;AACpB,eAAU,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,EAAE,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;KACzE;IACD,CAAC,CAAC;GACH;EACD;CACD;;AAED,UAAU,CAAC,aAAa,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,EAAE;AAC5C,YAAW,EAAE,OAAO,CAAC,EAAE,CAAC,yBAAyB,CAAC;AAClD,OAAM,EAAE,OAAO,CAAC,EAAE,CAAC,oBAAoB,CAAC;CACxC,CAAC,CAAC,kF","file":"/packages/rocketchat_slashcommands-topic.js","sourcesContent":["/*\n* Join is a named function that will replace /topic commands\n* @param {Object} message - The message object\n*/\n\nfunction Topic(command, params, item) {\n\tif (command === 'topic') {\n\t\tif (Meteor.isClient && RocketChat.authz.hasAtLeastOnePermission('edit-room', item.rid) || (Meteor.isServer && RocketChat.authz.hasPermission(Meteor.userId(), 'edit-room', item.rid))) {\n\t\t\tMeteor.call('saveRoomSettings', item.rid, 'roomTopic', params, (err) => {\n\t\t\t\tif (err) {\n\t\t\t\t\tif (Meteor.isClient) {\n\t\t\t\t\t\treturn handleError(err);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow err;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (Meteor.isClient) {\n\t\t\t\t\tRocketChat.callbacks.run('roomTopicChanged', ChatRoom.findOne(item.rid));\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n\nRocketChat.slashCommands.add('topic', Topic, {\n\tdescription: TAPi18n.__('Slash_Topic_Description'),\n\tparams: TAPi18n.__('Slash_Topic_Params')\n});\n"]}